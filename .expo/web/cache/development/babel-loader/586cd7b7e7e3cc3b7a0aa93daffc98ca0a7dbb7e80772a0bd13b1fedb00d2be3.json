{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport React, { useState, useEffect } from 'react';\nimport { auth, firebase } from \"../firebase\";\nimport { collection, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot } from 'firebase/firestore';\nimport { db } from \"../firebase\";\nimport { getAuth } from 'firebase/auth';\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Logs = function Logs() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var _useState3 = useState(),\n    _useState4 = _slicedToArray(_useState3, 2),\n    email = _useState4[0],\n    setEmail = _useState4[1];\n  var _useState5 = useState(),\n    _useState6 = _slicedToArray(_useState5, 2),\n    uids = _useState6[0],\n    setUid = _useState6[1];\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isLoading = _useState8[0],\n    setIsLoading = _useState8[1];\n  var _useState9 = useState(),\n    _useState10 = _slicedToArray(_useState9, 2),\n    fullname = _useState10[0],\n    setName = _useState10[1];\n  var _useState11 = useState([]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    logInfo = _useState12[0],\n    setLogs = _useState12[1];\n  var todoRef = firebase.firestore().collection(\"users\").doc(\"LlsVwIQz9hMMDtHgQLlT\").collection(\"Logs\");\n  useEffect(_asyncToGenerator(function* () {\n    todoRef.onSnapshot(function (querySnapshot) {\n      var logInfo = [];\n      querySnapshot.forEach(function (doc) {\n        var _doc$data = doc.data(),\n          ReceiverUid = _doc$data.ReceiverUid,\n          Timestamp = _doc$data.Timestamp,\n          transactions = _doc$data.transactions;\n        logInfo.push({\n          id: doc.id,\n          ReceiverUid: ReceiverUid,\n          Timestamp: Timestamp,\n          transactions: transactions\n        });\n        console.log(logInfo);\n      });\n      setLogs();\n    });\n  }), []);\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      marginTop: 100\n    },\n    children: [_jsx(FlatList, {\n      style: {\n        height: 100\n      },\n      data: logInfo,\n      numColumns: 1,\n      renderItem: function renderItem(_ref2) {\n        var userInfo = _ref2.userInfo;\n        return _jsx(Pressable, {\n          style: styles.container,\n          children: _jsxs(View, {\n            style: styles.innerContainer,\n            children: [_jsx(Text, {\n              style: styles.itemHeading,\n              children: itemHeading\n            }), _jsx(Text, {\n              style: styles.itemText,\n              children: itemText\n            })]\n          })\n        });\n      }\n    }), _jsx(View, {\n      style: styles.container,\n      children: _jsx(View, {\n        style: styles.userInfo,\n        children: _jsxs(Text, {\n          style: styles.userId,\n          children: [\"transactions: \", userInfo.transactions]\n        })\n      })\n    })]\n  });\n};\nexport default Logs;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#e5e5e5',\n    padding: 15,\n    borderRadius: 15,\n    margin: 5,\n    marginHorizontal: 10\n  },\n  innerContainer: {\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  itemHeading: {\n    fontWeight: 'bold'\n  },\n  itemText: {\n    fontWeight: '300'\n  },\n  userInfo: {\n    marginBottom: 20\n  },\n  userId: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 10,\n    color: '#333'\n  },\n  balance: {\n    fontSize: 18,\n    textAlign: 'center',\n    color: \"black\"\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#F1F3F6'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","auth","firebase","collection","setDoc","doc","getDoc","querySnapshot","documentSnapshot","getDocs","snapshotEqual","onSnapshot","db","getAuth","onAuthStateChanged","signOut","jsx","_jsx","jsxs","_jsxs","Logs","_useState","_useState2","_slicedToArray","userInfo","setUserInfo","_useState3","_useState4","email","setEmail","_useState5","_useState6","uids","setUid","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","fullname","setName","_useState11","_useState12","logInfo","setLogs","todoRef","firestore","_asyncToGenerator","forEach","_doc$data","data","ReceiverUid","Timestamp","transactions","push","id","console","log","View","style","flex","marginTop","children","FlatList","height","numColumns","renderItem","_ref2","Pressable","styles","container","innerContainer","Text","itemHeading","itemText","userId","StyleSheet","create","backgroundColor","padding","borderRadius","margin","marginHorizontal","alignItems","flexDirection","fontWeight","marginBottom","fontSize","textAlign","color","balance","justifyContent"],"sources":["C:/Users/User/asd - Copy/screens/Logs.js"],"sourcesContent":["import { View, Text, FlatList,ActivityIndicator, StyleSheet,Alert, Pressable, TextInput, Button, Touchable, TouchableOpacity, KeyboardAvoidingView } from 'react-native';\r\nimport React ,{useState, useEffect} from 'react';\r\nimport { auth, firebase } from '../firebase';\r\nimport {collection, setDoc, doc, getDoc, querySnapshot, documentSnapshot, getDocs, snapshotEqual, onSnapshot} from 'firebase/firestore'\r\nimport { db } from '../firebase'\r\nimport { getAuth } from 'firebase/auth';\r\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\r\n\r\nconst Logs = () => {\r\n    const [userInfo, setUserInfo] = useState([]);\r\n    const [email, setEmail] = useState();\r\n    const [uids, setUid] = useState();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [fullname, setName] = useState();\r\n\r\n    const [logInfo, setLogs] = useState([]);  \r\n    \r\nconst todoRef = firebase.firestore().collection(\"users\").doc(\"LlsVwIQz9hMMDtHgQLlT\").collection(\"Logs\")\r\n    \r\n\r\n    useEffect(async() => {\r\n        todoRef.onSnapshot(\r\n            querySnapshot => {\r\n                const logInfo = []\r\n                querySnapshot.forEach((doc)=> {\r\n                    const {ReceiverUid, Timestamp, transactions} = doc.data()\r\n                    logInfo.push({\r\n                        id: doc.id,\r\n                        ReceiverUid,\r\n                        Timestamp,\r\n                        transactions\r\n                        \r\n                    })\r\n                    console.log(logInfo)\r\n                }) \r\nsetLogs()\r\n                \r\n                \r\n            }\r\n        )\r\n        }, [])\r\n        // unsub();\r\n       \r\n    //         // User is signed in, see docs for a list of available properties\r\n    //         // https://firebase.google.com/docs/reference/js/auth.user\r\n    //         const uid = user.uid;\r\n    //         setUid(uid);\r\n    //         setEmail(user.email);\r\n      \r\n    //         const getWallet = async() => {\r\n    //           const docRef = collection(db, \"users\", \"LlsVwIQz9hMMDtHgQLlT\", \"Logs\");\r\n    //           const docSnap = await getDoc(docRef);\r\n    //           if (docSnap.exists()) {\r\n    //             console.log(\"Document data:\", docSnap.data());\r\n    //             const data = docSnap.data();\r\n    //             setUserInfo(data);\r\n    //           } else {\r\n    //             // docSnap.data() will be undefined in this case\r\n    //             console.log(\"No such document!\");\r\n    //           }\r\n    //         }\r\n    //         getWallet();\r\n\r\n            \r\n       \r\n        \r\n      \r\n    \r\n    //   }, []);\r\n\r\n// useEffect(() => {\r\n// onAuthStateChanged(auth, (user) => {\r\n//   if (user) {\r\n//     // User is signed in, see docs for a list of available properties\r\n//     // https://firebase.google.com/docs/reference/js/auth.user\r\n//     const uid = user.uid;\r\n//     setUid(uid);\r\n//     setEmail(user.email);\r\n\r\n//       const saveProfile = async () => {\r\n//         const uid  = user.uid;\r\n//         setDoc(doc(db, \"users\", uid ),{\r\n\r\n//           fullname:fullname\r\n//         })\r\n//         .then(() => {\r\n//           // Data saved successfully!\r\n//         })\r\n//         .catch((error) => {\r\n//           // The write failed...\r\n//         });\r\n\r\n//       }\r\n//       saveProfile();\r\n//     }    \r\n//   })  },\r\n//       [])\r\n      // if (isLoading) {\r\n      //   return <ActivityIndicator size=\"large\" />;\r\n      // }\r\n\r\n\r\n\r\n    return(\r\n        <View style={{flex:1, marginTop:100}}>\r\n            <FlatList \r\n                style={{height: 100}}\r\n                data={logInfo}\r\n                numColumns={1}\r\n                renderItem={({userInfo})=>(\r\n                <Pressable style ={styles.container}>\r\n                    <View style ={styles.innerContainer}>\r\n                        <Text style={styles.itemHeading}>{itemHeading}</Text>\r\n                        {/* transactions: {userInfo.transactions} */}\r\n\r\n                        <Text style={styles.itemText}>{itemText}</Text>\r\n                    </View>\r\n                </Pressable>\r\n            ) }\r\n                >\r\n                \r\n            </FlatList>\r\n            <View style={ styles.container}>\r\n                <View style ={styles.userInfo}>\r\n                    <Text style={styles.userId}>\r\ntransactions: {userInfo.transactions}\r\n\r\n                    </Text>\r\n                     </View>\r\n            </View>\r\n        </View>\r\n\r\n        \r\n        // <View style={styles.container}>\r\n        //      <View style={styles.userInfo}>\r\n        //     <Text style={styles.userId }>\r\n        //         id: {uids}\r\n        //     </Text>\r\n        //     <View style={styles.userInfo}>\r\n        //     <Text style={styles.userId }>\r\n        //         Time stamp: {userInfo.Timestamp}\r\n        //     </Text>\r\n        //     <Text style={styles.balance}>\r\n        //     Sent: {userInfo.transactions}\r\n        //     </Text>\r\n            \r\n        //     <Text style={styles.balance}>Receiver: \r\n        //     {userInfo.ReceiverUid}\r\n            \r\n            \r\n\r\n      \r\n            \r\n        //     </Text>\r\n        // </View>\r\n        // </View>\r\n\r\n       \r\n        \r\n    )\r\n\r\n    \r\n}\r\nexport default Logs\r\n\r\nconst styles = StyleSheet.create({\r\n    \r\ncontainer:{\r\nbackgroundColor:'#e5e5e5',\r\npadding:15,\r\nborderRadius:15,\r\nmargin:5,\r\nmarginHorizontal:10,\r\n},\r\n\r\ninnerContainer:{\r\nalignItems:'center',\r\nflexDirection:'column',\r\n\r\n},\r\nitemHeading:{\r\nfontWeight:'bold',\r\n\r\n},\r\nitemText:{\r\nfontWeight:'300'\r\n},\r\n\r\n    userInfo: {\r\n        marginBottom: 20,\r\n      },\r\n      userId: {\r\n        fontSize: 28,\r\n        fontWeight: 'bold',\r\n        textAlign: 'center',\r\n        marginBottom: 10,\r\n        color: '#333',\r\n      },\r\n      balance: {\r\n        fontSize: 18,\r\n        textAlign: 'center',\r\n        color: \"black\",\r\n      },\r\n      container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: '#F1F3F6',\r\n      }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}